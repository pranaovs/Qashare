services:
  qashare:
    image: ghcr.io/pranaovs/qashare
    container_name: qashare
    restart: unless-stopped
    ports:
      - 8080:8080
    # WARNING: Default DB credentials are for development only.
    # In production, override DB_USER, DB_PASSWORD, and DB_NAME via
    # environment variables or Docker secrets.
    environment:
      - DB_URL=postgres://${DB_USER:-postgres}:${DB_PASSWORD:-postgres}@postgres:5432/${DB_NAME:-qashare}

  postgres:
    image: postgres
    expose:
      - "5432"
    # WARNING: Default DB credentials are for development only.
    # In production, override DB_USER, DB_PASSWORD, and DB_NAME via
    # environment variables or Docker secrets.
    environment:
      - POSTGRES_USER=${DB_USER:-postgres}
      - POSTGRES_PASSWORD=${DB_PASSWORD:-postgres}
      - POSTGRES_DB=${DB_NAME:-qashare}
    volumes:
      - qashare:/var/lib/postgresql

volumes:
  qashare:
